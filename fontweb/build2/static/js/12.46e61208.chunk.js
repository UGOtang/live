(this.webpackJsonpfontweb=this.webpackJsonpfontweb||[]).push([[12],{137:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return c}));var n=r(90);function s(e){return Object(n.a)({url:"/users/register",method:"post",data:e})}function a(e){return Object(n.a)({url:"/users/sendPhone",method:"post",data:{phone:e}})}function c(e){return Object(n.a)({url:"/users/login",method:"post",data:e})}},138:function(e,t,r){},435:function(e,t,r){"use strict";r.r(t);r(195);var n=r(198),s=(r(101),r(75)),a=(r(234),r(96)),c=(r(196),r(72)),o=(r(197),r(199)),i=r(89),u=r.n(i),l=(r(121),r(117)),d=r(122),j=r(160),p=r(0),m=r(1),f=r(437),b=r(438),h=r(429),x=r(428),O=r(440),g=r(441),v=(r(138),r(137)),w=r(3),y=Object(m.g)((function(e){var t=Object(p.useState)(!1),r=Object(j.a)(t,2),i=r[0],m=r[1],y=function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Received values of form: ",r),m(!0),t.next=4,Object(v.b)(r).then((function(t){console.log(t),200===t.status?(l.b.success("\u6ce8\u518c\u6210\u529f!"),e.history.push("/login")):400===t.status?(l.b.error("\u9a8c\u8bc1\u7801\u9519\u8bef"),m(!1)):404===t.status?(l.b.error("\u8d26\u53f7\u5df2\u6ce8\u518c"),m(!1)):(l.b.error("\u670d\u52a1\u5668\u9519\u8bef"),m(!1))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(w.jsx)(n.a,{className:"login animated fadeIn",children:Object(w.jsx)("div",{className:"model",children:Object(w.jsxs)("div",{className:"login-form",children:[Object(w.jsx)("h3",{style:{textAlign:"center"},children:"\u6ce8\u518c\u864e\u9c7c\u53f7"}),Object(w.jsx)(o.a,{}),Object(w.jsxs)(a.a,{name:"normal_login",onFinish:y,children:[Object(w.jsx)(a.a.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}],children:Object(w.jsx)(c.a,{prefix:Object(w.jsx)(f.a,{className:"site-form-item-icon"}),placeholder:"\u7528\u6237\u540d"})}),Object(w.jsx)(a.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}],children:Object(w.jsx)(c.a,{prefix:Object(w.jsx)(b.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u5bc6\u7801"})}),Object(w.jsx)(a.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"},function(e){var t=e.getFieldValue;return{validator:function(e,r){return r&&t("password")!==r?Promise.reject(new Error("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u6837")):Promise.resolve()}}}],children:Object(w.jsx)(c.a,{prefix:Object(w.jsx)(b.a,{className:"site-form-item-icon"}),type:"password",placeholder:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"})}),Object(w.jsx)(h.a,{fieldProps:{size:"middle",prefix:Object(w.jsx)(O.a,{})},name:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7!"},{pattern:/^1\d{10}$/,message:"\u4e0d\u5408\u6cd5\u7684\u624b\u673a\u53f7\u683c\u5f0f!"}]}),Object(w.jsx)(x.a,{fieldProps:{size:"middle",prefix:Object(w.jsx)(g.a,{})},captchaProps:{size:"middle"},phoneName:"phone",name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",onGetCaptcha:function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)(t);case 2:r=e.sent,console.log(r),200===r.status?l.b.success("\u624b\u673a\u53f7 ".concat(t," \u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f!")):l.b.warning("\u624b\u673a\u53f7 ".concat(t," \u9a8c\u8bc1\u7801\u53d1\u9001\u5931\u8d25!"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(w.jsxs)(a.a.Item,{children:[Object(w.jsx)(s.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:i,children:"\u6ce8\u518c"}),"\u6216\u8005 ",Object(w.jsx)("a",{href:"/#/login",children:"\u767b\u5f55!"})]})]})]})})})}));t.default=y},90:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(123),s=r.n(n);function a(e){var t=s.a.create({baseURL:"http://localhost:3002"});return t.interceptors.request.use((function(e){return e}),(function(e){})),t.interceptors.response.use((function(e){return e.data}),(function(e){})),t(e)}s.a.defaults.headers.common["th-auth"]=localStorage.getItem("token")}}]);
//# sourceMappingURL=12.46e61208.chunk.js.map